<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Заметки on LeKovr</title><link>https://lekovr.github.io/notes/</link><description>Recent content in Заметки on LeKovr</description><generator>Hugo -- gohugo.io</generator><language>ru</language><copyright>&amp;copy;{year}, All Rights Reserved</copyright><lastBuildDate>Sat, 11 Jan 2020 14:09:21 +0900</lastBuildDate><atom:link href="https://lekovr.github.io/notes/index.xml" rel="self" type="application/rss+xml"/><item><title>GoLang Solutions</title><link>https://lekovr.github.io/notes/golang/</link><pubDate>Mon, 17 Feb 2020 00:00:00 +0000</pubDate><guid>https://lekovr.github.io/notes/golang/</guid><description>Ниже приведены мои варианты решения типовых задач, которые у меня возникали при разработке на golang.
func main() Пока я не нашел удобный способ тестировать main(), мой вариант - сократить эту функцию до одной строки и убрать ее из тестов.
Если репозиторий содержит бинарник с именем APP, его функция main() размещается в отдельном файле cmd/APP/main.go со следующим содержанием:
1 2 3 4 5 6 7 8 9 //+build !test // This file holds code which does not covered by tests package main import &amp;#34;os&amp;#34; func main() { Run(os.</description></item><item><title>SQL Solutions</title><link>https://lekovr.github.io/notes/sql_test/</link><pubDate>Mon, 17 Feb 2020 00:00:00 +0000</pubDate><guid>https://lekovr.github.io/notes/sql_test/</guid><description>В SQL мне наиболее интересна работа с хранимым кодом в PostgreSQL, но до того, чтобы собрать отдельный справочник, руки пока не доходят. Поэтому наполнение этой страницы еще в начальной стадии
Пример теста 1 2 3 4 5 6 7 8 9 10 11 12 SAVEPOINT test_begin; select pgmig.assert_count(1); -- ---------------------------------------------------------------------------- SELECT pgmig.pkg_op_before(&amp;#39;init&amp;#39;, &amp;#39;test_pgmig&amp;#39;, &amp;#39;v0.0&amp;#39;, &amp;#39;git&amp;#39;); SELECT pgmig.assert_eq(&amp;#39;pkg_op_before&amp;#39; , (SELECT jsonb_build_object(&amp;#39;code&amp;#39;,code,&amp;#39;version&amp;#39;,version) FROM pgmig.pkg where code=&amp;#39;test_pgmig&amp;#39;) , &amp;#39;{ &amp;#34;version&amp;#34;: &amp;#34;v0.0&amp;#34;, &amp;#34;code&amp;#34;: &amp;#34;test_pgmig&amp;#34; }&amp;#39;::jsonb ); ROLLBACK TO SAVEPOINT test_begin; См.</description></item></channel></rss>